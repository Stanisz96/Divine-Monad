@model DivineMonad.Models.Backpack

@{ 
    Layout = "_SubLayout";

    Item item;
    CharacterItems cItem;
}

@functions {
    public string GetUrl(int id)
    {
        CharacterItems tempCItem = Model.CharacterItemsList.FirstOrDefault(i => i.BpSlotId == id && i.IsEquipped == true);
        if(!(tempCItem is null))
        {
            Item tempItem = Model.ItemsList.FirstOrDefault(i => i.ID == tempCItem.ItemId);
            if(!(tempItem is null))
            {
                return tempItem.ImageUrl;
            }
            return "~/images/bg_item.png";
        }
        return "~/images/bg_item.png";
    }
}

<div class="game-content-backpack">
    <div class="row">
        <div class="col-5 offset-1 equipment">
            <div class="row">
                <div class="col-4 offset-4 item-slot" id="1">
                    <img src="@Url.Content(GetUrl(1))" class="img-item" alt="item">
                </div>
                <div class="col-4 item-slot" id="2">
                    <img src="@Url.Content(GetUrl(2))" class="img-item" alt="item">
                </div>
            </div>
            <div class="row">
                <div class="col-4 item-slot" id="3">
                    <img src="@Url.Content(GetUrl(3))" class="img-item" alt="item">
                </div>
                <div class="col-4 item-slot" id="4">
                    <img src="@Url.Content(GetUrl(4))" class="img-item" alt="item">
                </div>
                <div class="col-4 item-slot" id="5">
                    <img src="@Url.Content(GetUrl(5))" class="img-item" alt="item">
                </div>
            </div>
            <div class="row">
                <div class="col-4 offset-4 item-slot" id="6">
                    <img src="@Url.Content(GetUrl(6))" class="img-item" alt="item">
                </div>
            </div>
        </div>
        <div class="col-5 stats offset-1">
            <div class="row justify-content-center">
                <div class="col-5 font-weight-bold">
                    Attack:
                </div>
                <div class="col-4">
                    121
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-5 font-weight-bold">
                    Agility:
                </div>
                <div class="col-4">
                    43
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-5 font-weight-bold">
                    Armor:
                </div>
                <div class="col-4">
                    120
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-5 font-weight-bold">
                    HitPoints:
                </div>
                <div class="col-4">
                    420
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-5 font-weight-bold">
                    Dodge:
                </div>
                <div class="col-4">
                    45
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-5 font-weight-bold">
                    Luck:
                </div>
                <div class="col-4">
                    12
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-12 backpack">
            <div class="row">
                @for (int slotId = 7; slotId <= Model.Character.CBStats.BpSlots + 6; slotId++)
                {
                    cItem = Model.CharacterItemsList.FirstOrDefault(i => i.BpSlotId == slotId && i.IsEquipped == false);
                    if (!(cItem is null))
                    {
                        item = Model.ItemsList.FirstOrDefault(i => i.ID == cItem.ItemId);
                        if (!(item is null))
                        {
                            <div class="col-2 item-slot" id="@slotId">
                                <img src="@Url.Content(item.ImageUrl)" class="img-item" alt="item">
                            </div>
                        }
                    }
                    else
                    {
                        <div class="col-2 item-slot" id="@slotId">
                            <img src="@Url.Content("~/images/bg_item.png")" class="img-item" alt="item">
                        </div>
                    }
                }
            </div>
        </div>
    </div>
</div>

@section Scripts{ 
    <script>
        $('img').click(function () {
        });
    </script>
}